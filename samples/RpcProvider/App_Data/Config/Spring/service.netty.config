<objects xmlns="http://www.springframework.net"
             xmlns:aop="http://www.springframework.net/aop">


  <object id="nettyService" type="RpcProvider.HelloServiceNettyImpl, RpcProvider">
    <property name="ServiceName" value="A"/>
  </object>


  <object id="bossGroup" type="DotNetty.Transport.Channels.MultithreadEventLoopGroup, DotNetty.Transport">
    <constructor-arg name="eventLoopCount" value="1"/>
  </object>

  <object id="workerGroup" type="DotNetty.Transport.Channels.MultithreadEventLoopGroup, DotNetty.Transport">
  </object>

  <object id="serverChannel" type="DotNetty.Transport.Channels.Sockets.TcpServerSocketChannel, DotNetty.Transport">
  </object>


  <object id="loggingHandler" type="DotNetty.Handlers.Logging.LoggingHandler, DotNetty.Handlers">
  </object>
  <object id="lengthFieldPrepender" type="DotNetty.Codecs.LengthFieldPrepender, DotNetty.Codecs">
    <constructor-arg name="lengthFieldLength" value="4"/>
  </object>
  <object id="lengthFieldBasedFrameDecoder" type="DotNetty.Codecs.LengthFieldBasedFrameDecoder, DotNetty.Codecs">
    <!--int.MaxValue, 0, 4, 0, 4-->
    <constructor-arg name="maxFrameLength" expression="T(System.Int32).MaxValue"/>
    <constructor-arg name="lengthFieldOffset" value="0"/>
    <constructor-arg name="lengthFieldLength" value="4"/>
    <constructor-arg name="lengthAdjustment" value="0"/>
    <constructor-arg name="initialBytesToStrip" value="4"/>
  </object>
  
  <object id="NettyServer" type="Zooyard.Rpc.NettyImpl.NettyServer, Zooyard.Rpc.NettyImpl" parent="AbstractServer">
    <constructor-arg name="bossGroup" ref="bossGroup"/>
    <constructor-arg name="workerGroup" ref="workerGroup"/>
    <constructor-arg name="serverChannel" ref="serverChannel"/>
    <constructor-arg name="channelHandlers">
      <list element-type="DotNetty.Transport.Channels.IChannelHandler, DotNetty.Transport">
        <ref object="loggingHandler"/>
        <ref object="lengthFieldPrepender"/>
        <ref object="lengthFieldBasedFrameDecoder"/>
      </list>
    </constructor-arg>
    <constructor-arg name="service" ref="nettyService"/>
    <constructor-arg name="port" value="12121"/>
    <constructor-arg name="isSsl" value="False"/>
    <constructor-arg name="pfx" value=""/>
    <constructor-arg name="pwd" value=""/>
    <constructor-arg name="loggerFactory" ref="LoggerFactory"/>
  </object>

  <!--public IEventLoopGroup TheBossGroup { get; set; }
  public IEventLoopGroup TheWorkerGroup { get; set; }
  public EndPoint TheEndPoint { get; set; }
  public IServerChannel TheServerChannel { get; set; }-->
</objects>